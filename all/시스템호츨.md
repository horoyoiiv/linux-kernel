

# 시스템 호출  

* 현대의 모든 운영체제는 `커널`과 `사용자 어플리케이션`이 상호작용할 수 있는 `인터페이스`를 제공한다.  
* 이 `인터페이스`를 통해 `커널`은 `사용자 어플리케이션`에게  
1. 하드웨어 자원에 대한 접근  
2. 새로운 프로세스 생성 방법  
3. 기존 프로세스와의 통신  
등을 제공한다.  

# 커널과 통신  

* 시스템 콜은 `trap`을 제외하고 `사용자 어플리케이션`이 커널로 진입할 수 있는 유일한 수단이다.  
* 시스템 콜은 다음과 같은 역할을 수행한다.  

#### 1. 시스템 자원의 보호  
* `멀티 프로그래밍`, `멀티 테스킹` 환경에서는 하나의 시스템을 여러 어플리케이션이 공유해서 사용한다.  
* 자원을 제어할 수 있는 `특권 명령어`는 `커널`만 실행시킬 수 있도록하여, `malicious AP`로부터 공유되는 자원을 보호하는 수단이다.  

#### 2. 하드웨어 인터페이스를 추상화된 형태로 제공.  

* `사용자 어플리케이션`은 `파일 입출력` 등 하드웨어 자원을 사용할 때, 구체적인 구현방식에 무지한 채로 커널이 제공하는 API만 사용할 수 있다.  


* 리눅스의 시스템 콜은 다른 OS에 비하여 적다.  

# API, POSIX, C 라이브러리  

### 1. API  
* `사용자 어플리케이션`에서는 대개 `시스템 콜`을 직접 사용하지 않고, API를 호출하는 형태로 사용한다.  
* 해당 API 내부에서는 하나 또는 그 이상의 `시스템 콜`이 사용될 수 있다.  
* `사용자 어플리케이션`이 사용하는 인터페이스와 `커널`이 제공하는 인터페이스 사이에 **loose coupling**이 된다.  
이는 곧 시스템이 제공하는 내부 구현이 전혀 달라도, `사용자 어플리케이션`에서는 동일한 인터페이스를 계속 사용할 수 있게 된다.  


### 2. POSIX  
* POSIX 표준은 **API**의 집합이다.  
* `유닉스 기반 운영체제` 간 호환성, 이식성을 제공할 목적으로 IEEE(아이 트리플) 표준의 **API** 집합  

### 3. C 라이브러리  
* 리눅스의 시스템 콜 호출 인터페이스는 다른 유닉스 시스템과 마찬가지로 `C 라이브러리` 형태로 제공된다.  

# 시스콜  

* 리눅스에서는 대체로 시스템 콜을 **시스콜**이라고 부른다.  
* 시스콜을 감싸고 있는 C 라이브러리에 정의된 함수를 호출하면 **사이드 이펙트**를 발생시킬 수 있다.  
**사이드 이펙트** : 부수 효과로서, 시스템의 상태를 변경시키는 것.  

### errno  

* 시스템 콜 호출이 실패할 경우 C 라이브러리의 전역변수인 errno에 특정 오류코드가 기록된다.  
* `perror()`를 통해 이변수의 값을 사람이 보기 편한 문자열 형태로 출력할 수 있다.  







